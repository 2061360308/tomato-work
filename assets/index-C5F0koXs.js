import{r as s,s as x,f as g,j as t,T as f,B as o,a as m}from"./index-gZOopRFU.js";const j=()=>{const a=s.useRef(null),[n,r]=s.useState([]),i=[{title:"",dataIndex:"hasRead",width:12,className:"unread-row",render:e=>!e&&t.jsx("i",{className:"unread-dot",children:"●"})},{title:"标题内容",dataIndex:"content"},{title:"提交时间",dataIndex:"createdAt",width:150},{title:"类型",dataIndex:"title",width:130}],u=s.useCallback(e=>x(e).then(c=>(c.rows.forEach(d=>{d.createdAt=g(d.createdAt)}),c)),[]);function l(e){e||(e=n.join()),m(e).then(()=>{r([]),a.current.getTableData()})}function h(){l("all")}return s.useEffect(()=>{a.current.getTableData()},[a]),t.jsxs("div",{className:"inner-message",children:[t.jsx(f,{ref:a,getTableData:u,columns:i,onRowSelectionChange:e=>r(e)}),t.jsxs("div",{className:"action-group",children:[t.jsx(o,{onClick:l,disabled:n.length<=0,children:"标记已读"}),t.jsx(o,{onClick:h,children:"全部已读"})]})]})};export{j as default};
