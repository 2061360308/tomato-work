import{t as r,u,r as m,p,j as e,I as a,B as i,v as h,w as x,q as y}from"./index-gZOopRFU.js";import{D as l}from"./index-B6DyjDxP.js";const g=function(){const[n]=r.useForm(),[t]=r.useForm(),o=u(s=>s.user.userInfo);async function c(){try{const s=await n.validateFields();h({password:x(s.password)})}catch(s){console.log(s)}}async function d(){try{const s=await t.validateFields();y({sckey:s.sckey})}catch(s){console.log(s)}}return m.useEffect(()=>{p().then(s=>{t.setFieldsValue({sckey:(s==null?void 0:s.serverChanSckey)||""})})},[]),e.jsxs("div",{className:"account-setting",children:[e.jsx(l,{orientation:"left",plain:!0,children:"修改密码"}),e.jsxs(r,{layout:"vertical",form:n,style:{width:300},children:[e.jsx(r.Item,{label:"登录名",name:"name",initialValue:o.loginName,rules:[{required:!0}],children:e.jsx(a,{readOnly:!0,disabled:!0})}),e.jsx(r.Item,{label:"新密码",name:"password",rules:[{required:!0,message:"请输入新密码"},{pattern:/.{6,}/,message:"新密码至少6位"}],children:e.jsx(a,{type:"password",maxLength:32})}),e.jsx("br",{}),e.jsx(r.Item,{children:e.jsx(i,{type:"primary",onClick:c,children:"提交"})})]}),e.jsx(l,{orientation:"left",plain:!0,children:"企业微信机器人"}),e.jsxs(r,{layout:"vertical",form:t,style:{width:300},children:[e.jsx(r.Item,{label:"Webhook Key",name:"sckey",rules:[{required:!0,message:"请正确填写 KEY"}],children:e.jsx(a.Password,{maxLength:100})}),e.jsx("div",{style:{textAlign:"right",marginTop:5},children:e.jsx("a",{href:"https://open.work.weixin.qq.com/help2/pc/14931",target:"_blank",rel:"noopener noreferrer",children:"如何获取？"})}),e.jsx(r.Item,{children:e.jsx(i,{type:"primary",onClick:d,children:"提交"})})]})]})};export{g as default};
